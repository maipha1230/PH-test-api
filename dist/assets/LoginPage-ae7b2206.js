import{k as h,p as x,b as e,B as t,j as s,T as i,a as g,o as f}from"./index-db8e830d.js";import{c as w,a as c,F as b,T as d,B as y}from"./formik.esm-91bbe9aa.js";function T(){h(),x();const m={username:"",password:""},p=w().shape({username:c().required("กรุณากรอกชื่อผู้ใช้งาน"),password:c().min(8,"กรุณากรอกอย่างน้อย 8 ตัวอักษร").required("กรุณากรอกรหัสผ่าน")});return e(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#e1e2fe"},maxWidth:"100vw",children:s(t,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:{xs:"100vw",md:"450px"},height:{xs:"100vh",md:"auto"},py:"2rem",px:"1.5rem",borderRadius:"2rem",bgcolor:"#ffff",gap:"1.5rem",sx:{backdropFilter:"blur(5px)"},children:[e(i,{variant:"h4",fontWeight:"bold",sx:{color:"#2e5596"},children:"เข้าสู่ระบบ"}),e("img",{src:"/Untitled-1-01.png",width:"200px",style:{objectFit:"cover"}}),e(i,{variant:"h6",sx:{color:"#2e5596",display:{xs:"none",md:"block"}},children:"ระบบจัดการผู้ใช้งาน Principal Healthcare"}),s(t,{display:{xs:"flex",md:"none"},flexDirection:"column",gap:.2,alignItems:"center",children:[e(i,{variant:"h6",sx:{color:"#2e5596"},children:"ระบบจัดการผู้ใช้งาน"}),e(i,{variant:"h6",sx:{color:"#2e5596"},children:"Principal Healthcare"})]}),e(b,{onSubmit:n=>{g.post("/auth/sign-in",{username:n.username,password:n.password}).then(a=>{a.status==200&&(localStorage.setItem("access-token",a.data.access_token),f("เข้าสู่ระบบสำเร็จ").then(()=>{window.location.href="/"}))}).catch(a=>{console.log(a)})},initialValues:m,validationSchema:p,children:({values:n,errors:a,touched:r,handleBlur:o,handleChange:l,handleSubmit:u})=>e("form",{onSubmit:u,style:{width:"100%"},children:s(t,{display:"flex",flexDirection:"column",gap:"1rem",sx:{width:"100%"},children:[e(d,{fullWidth:!0,variant:"outlined",type:"text",label:"ชื่อผู้ใช้งาน",onBlur:o,onChange:l,value:n.username,name:"username",error:!!r.username&&!!a.username,helperText:r.username&&a.username}),e(d,{fullWidth:!0,variant:"outlined",type:"password",label:"รหัสผ่าน",onBlur:o,onChange:l,value:n.password,name:"password",error:!!r.password&&!!a.password,helperText:r.password&&a.password}),e(y,{type:"submit",color:"primary",variant:"contained",children:"เข้าสู่ระบบ"})]})})})]})})}export{T as default};
