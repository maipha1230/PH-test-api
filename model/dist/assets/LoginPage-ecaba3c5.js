import{k as h,p as x,b as a,B as n,j as o,T as l,a as f,o as g}from"./index-a633cc79.js";import{c as w,a as c,F as b,T as m,B as y}from"./formik.esm-b87222a4.js";function j(){h(),x();const d={username:"",password:""},p=w().shape({username:c().required("กรุณากรอกชื่อผู้ใช้งาน"),password:c().min(8,"กรุณากรอกอย่างน้อย 8 ตัวอักษร").required("กรุณากรอกรหัสผ่าน")});return a(n,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#e1e2fe"},children:o(n,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"450px",py:"2rem",px:"1.5rem",borderRadius:"2rem",bgcolor:"#ffff",gap:"1.5rem",sx:{backdropFilter:"blur(5px)"},children:[a(l,{variant:"h4",fontWeight:"bold",sx:{color:"#2e5596"},children:"เข้าสู่ระบบ"}),a("img",{src:"/Untitled-1-01.png",width:"200px",style:{objectFit:"cover"}}),a(l,{variant:"h6",sx:{color:"#2e5596"},children:"ระบบจัดการผู้ใช้งาน Principal Healthcare"}),a(b,{onSubmit:t=>{f.post("/auth/sign-in",{username:t.username,password:t.password}).then(e=>{e.status==200&&(localStorage.setItem("access-token",e.data.access_token),g("เข้าสู่ระบบสำเร็จ").then(()=>{window.location.href="/"}))}).catch(e=>{console.log(e)})},initialValues:d,validationSchema:p,children:({values:t,errors:e,touched:r,handleBlur:s,handleChange:i,handleSubmit:u})=>a("form",{onSubmit:u,style:{width:"100%"},children:o(n,{display:"flex",flexDirection:"column",gap:"1rem",sx:{width:"100%"},children:[a(m,{fullWidth:!0,variant:"outlined",type:"text",label:"ชื่อผู้ใช้งาน",onBlur:s,onChange:i,value:t.username,name:"username",error:!!r.username&&!!e.username,helperText:r.username&&e.username}),a(m,{fullWidth:!0,variant:"outlined",type:"password",label:"รหัสผ่าน",onBlur:s,onChange:i,value:t.password,name:"password",error:!!r.password&&!!e.password,helperText:r.password&&e.password}),a(y,{type:"submit",color:"primary",variant:"contained",children:"เข้าสู่ระบบ"})]})})})]})})}export{j as default};
